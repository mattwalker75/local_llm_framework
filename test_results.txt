============================= test session starts ==============================
platform darwin -- Python 3.13.5, pytest-9.0.2, pluggy-1.6.0 -- /Users/matt/Desktop/My_Data/AI/Vibe_Coding/REPOS/local_llm_framework/llf_venv/bin/python
rootdir: /Users/matt/Desktop/My_Data/AI/Vibe_Coding/REPOS/local_llm_framework
configfile: pytest.ini
plugins: mock-3.15.1, anyio-4.12.0, cov-7.0.0
collecting ... collected 593 items

tests/test_cli.py::TestCLI::test_initialization PASSED                   [  0%]
tests/test_cli.py::TestCLI::test_print_welcome PASSED                    [  0%]
tests/test_cli.py::TestCLI::test_print_help PASSED                       [  0%]
tests/test_cli.py::TestCLI::test_print_info PASSED                       [  0%]
tests/test_cli.py::TestCLI::test_ensure_model_ready_already_downloaded PASSED [  0%]
tests/test_cli.py::TestCLI::test_ensure_model_ready_downloads PASSED     [  1%]
tests/test_cli.py::TestCLI::test_ensure_model_ready_download_fails PASSED [  1%]
tests/test_cli.py::TestCLI::test_start_server_already_running PASSED     [  1%]
tests/test_cli.py::TestCLI::test_start_server_success_with_prompt PASSED [  1%]
tests/test_cli.py::TestCLI::test_start_server_auto_start PASSED          [  1%]
tests/test_cli.py::TestCLI::test_start_server_no_server_start PASSED     [  1%]
tests/test_cli.py::TestCLI::test_start_server_user_declines PASSED       [  2%]
tests/test_cli.py::TestCLI::test_start_server_failure PASSED             [  2%]
tests/test_cli.py::TestCLI::test_interactive_loop_exit PASSED            [  2%]
tests/test_cli.py::TestCLI::test_interactive_loop_help PASSED            [  2%]
tests/test_cli.py::TestCLI::test_interactive_loop_info PASSED            [  2%]
tests/test_cli.py::TestCLI::test_interactive_loop_clear PASSED           [  2%]
tests/test_cli.py::TestCLI::test_interactive_loop_chat PASSED            [  3%]
tests/test_cli.py::TestCLI::test_interactive_loop_chat_error PASSED      [  3%]
tests/test_cli.py::TestCLI::test_interactive_loop_multiline_input PASSED [  3%]
tests/test_cli.py::TestCLI::test_interactive_loop_multiline_empty PASSED [  3%]
tests/test_cli.py::TestCLI::test_interactive_loop_multiline_case_insensitive PASSED [  3%]
tests/test_cli.py::TestCLI::test_interactive_loop_multiline_eof PASSED   [  3%]
tests/test_cli.py::TestCLI::test_shutdown PASSED                         [  4%]
tests/test_cli.py::TestCLI::test_shutdown_no_stop PASSED                 [  4%]
tests/test_cli.py::TestCLI::test_run_success PASSED                      [  4%]
tests/test_cli.py::TestCLI::test_run_model_not_ready PASSED              [  4%]
tests/test_cli.py::TestCLI::test_run_server_fails PASSED                 [  4%]
tests/test_cli.py::TestCLICommands::test_main_chat_with_model_override PASSED [  4%]
tests/test_cli.py::TestCLICommands::test_main_chat_without_model_uses_default PASSED [  5%]
tests/test_cli.py::TestCLICommands::test_main_default_command_with_model PASSED [  5%]
tests/test_cli.py::TestCLICommands::test_download_command_success PASSED [  5%]
tests/test_cli.py::TestCLICommands::test_download_command_failure PASSED [  5%]
tests/test_cli.py::TestCLICommands::test_list_command_empty PASSED       [  5%]
tests/test_cli.py::TestCLICommands::test_list_command_with_models PASSED [  5%]
tests/test_cli.py::TestCLICommands::test_info_command PASSED             [  6%]
tests/test_cli.py::TestCLICommands::test_server_command_status_running PASSED [  6%]
tests/test_cli.py::TestCLICommands::test_server_command_status_not_running PASSED [  6%]
tests/test_cli.py::TestCLICommands::test_server_command_start_success PASSED [  6%]
tests/test_cli.py::TestCLICommands::test_server_command_start_already_running PASSED [  6%]
tests/test_cli.py::TestCLICommands::test_server_command_start_downloads_model PASSED [  6%]
tests/test_cli.py::TestCLICommands::test_server_command_stop_success PASSED [  7%]
tests/test_cli.py::TestCLICommands::test_server_command_stop_not_running PASSED [  7%]
tests/test_cli.py::TestCLICommands::test_server_command_restart_success PASSED [  7%]
tests/test_cli.py::TestCLICommands::test_server_command_with_model_override PASSED [  7%]
tests/test_cli.py::TestCLICommands::test_server_command_error_handling PASSED [  7%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_basic PASSED   [  7%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_model_not_ready PASSED [  8%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_server_fails PASSED [  8%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_chat_error PASSED [  8%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_with_stdin PASSED [  8%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_without_stdin PASSED [  8%]
tests/test_cli.py::TestCLIQuestionMode::test_cli_question_empty_stdin PASSED [  8%]
tests/test_cli.py::TestCLIQuestionMode::test_run_with_cli_question PASSED [  9%]
tests/test_cli.py::TestCLIQuestionMode::test_run_without_cli_question PASSED [  9%]
tests/test_cli.py::TestCLIQuestionMode::test_main_with_cli_argument PASSED [  9%]
tests/test_cli.py::TestCLIQuestionMode::test_main_with_cli_and_model PASSED [  9%]
tests/test_cli.py::TestCLIQuestionMode::test_main_with_cli_and_auto_start PASSED [  9%]
tests/test_cli.py::TestCLIQuestionMode::test_main_with_cli_and_no_server_start PASSED [  9%]
tests/test_cli.py::TestLogging::test_main_with_log_file PASSED           [ 10%]
tests/test_cli.py::TestLogging::test_main_with_log_level_and_log_file PASSED [ 10%]
tests/test_cli.py::TestLogging::test_main_without_log_file PASSED        [ 10%]
tests/test_cli.py::TestAdditionalCLICoverage::test_print_welcome_with_server_models PASSED [ 10%]
tests/test_cli.py::TestAdditionalCLICoverage::test_print_welcome_server_query_fails PASSED [ 10%]
tests/test_cli.py::TestAdditionalCLICoverage::test_signal_handler_shutdown PASSED [ 10%]
tests/test_cli.py::TestServerListModelsCommand::test_server_list_models_local_server PASSED [ 11%]
tests/test_cli.py::TestServerListModelsCommand::test_server_list_models_external_api PASSED [ 11%]
tests/test_cli.py::TestServerListModelsCommand::test_server_list_models_no_models PASSED [ 11%]
tests/test_cli.py::TestServerListModelsCommand::test_server_list_models_error PASSED [ 11%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_list_command PASSED [ 11%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_list_attached_command PASSED [ 11%]
tests/test_cli.py::TestPlaceholderCommands::test_module_list_command PASSED [ 12%]
tests/test_cli.py::TestPlaceholderCommands::test_module_list_enabled_command PASSED [ 12%]
tests/test_cli.py::TestPlaceholderCommands::test_tool_list_command PASSED [ 12%]
tests/test_cli.py::TestPlaceholderCommands::test_tool_list_enabled_command PASSED [ 12%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_specific_module PASSED [ 12%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_already_enabled PASSED [ 12%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_not_found PASSED [ 13%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_all PASSED [ 13%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_specific_module PASSED [ 13%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_already_disabled PASSED [ 13%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_not_found PASSED [ 13%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_all PASSED [ 13%]
tests/test_cli.py::TestPlaceholderCommands::test_module_info_command PASSED [ 14%]
tests/test_cli.py::TestPlaceholderCommands::test_module_info_not_found PASSED [ 14%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_missing_name PASSED [ 14%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_missing_name PASSED [ 14%]
tests/test_cli.py::TestPlaceholderCommands::test_module_info_missing_name PASSED [ 14%]
tests/test_cli.py::TestPlaceholderCommands::test_module_list_file_not_found PASSED [ 15%]
tests/test_cli.py::TestPlaceholderCommands::test_module_list_invalid_json PASSED [ 15%]
tests/test_cli.py::TestPlaceholderCommands::test_module_list_no_modules PASSED [ 15%]
tests/test_cli.py::TestPlaceholderCommands::test_module_list_generic_error PASSED [ 15%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_all_already_enabled PASSED [ 15%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_all_no_modules PASSED [ 15%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_all_already_disabled PASSED [ 16%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_all_no_modules PASSED [ 16%]
tests/test_cli.py::TestPlaceholderCommands::test_module_enable_error_handling PASSED [ 16%]
tests/test_cli.py::TestPlaceholderCommands::test_module_disable_error_handling PASSED [ 16%]
tests/test_cli.py::TestPlaceholderCommands::test_module_info_error_handling PASSED [ 16%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_attach_specific_datastore PASSED [ 16%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_attach_already_attached PASSED [ 17%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_attach_not_found PASSED [ 17%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_attach_all PASSED [ 17%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_detach_specific_datastore PASSED [ 17%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_detach_already_detached PASSED [ 17%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_detach_not_found PASSED [ 17%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_detach_all PASSED [ 18%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_info_command PASSED [ 18%]
tests/test_cli.py::TestPlaceholderCommands::test_datastore_info_not_found PASSED [ 18%]
tests/test_cli.py::TestMemoryListCommand::test_memory_list_command PASSED [ 18%]
tests/test_cli.py::TestMemoryListCommand::test_memory_list_enabled_command PASSED [ 18%]
tests/test_cli.py::TestMemoryEnableCommand::test_memory_enable_success PASSED [ 18%]
tests/test_cli.py::TestMemoryEnableCommand::test_memory_enable_already_enabled PASSED [ 19%]
tests/test_cli.py::TestMemoryEnableCommand::test_memory_enable_not_found PASSED [ 19%]
tests/test_cli.py::TestMemoryDisableCommand::test_memory_disable_success PASSED [ 19%]
tests/test_cli.py::TestMemoryDisableCommand::test_memory_disable_already_disabled PASSED [ 19%]
tests/test_cli.py::TestMemoryInfoCommand::test_memory_info_command PASSED [ 19%]
tests/test_cli.py::TestMemoryInfoCommand::test_memory_info_not_found PASSED [ 19%]
tests/test_config.py::TestConfig::test_default_initialization PASSED     [ 20%]
tests/test_config.py::TestConfig::test_directories_created PASSED        [ 20%]
tests/test_config.py::TestConfig::test_load_from_file PASSED             [ 20%]
tests/test_config.py::TestConfig::test_load_partial_config PASSED        [ 20%]
tests/test_config.py::TestConfig::test_load_nonexistent_file PASSED      [ 20%]
tests/test_config.py::TestConfig::test_load_invalid_json PASSED          [ 20%]
tests/test_config.py::TestConfig::test_get_server_url PASSED             [ 21%]
tests/test_config.py::TestConfig::test_get_vllm_url_deprecated PASSED    [ 21%]
tests/test_config.py::TestConfig::test_get_openai_api_base PASSED        [ 21%]
tests/test_config.py::TestConfig::test_get_openai_api_base_external PASSED [ 21%]
tests/test_config.py::TestConfig::test_api_key_configuration PASSED      [ 21%]
tests/test_config.py::TestConfig::test_to_dict PASSED                    [ 21%]
tests/test_config.py::TestConfig::test_save_to_file PASSED               [ 22%]
tests/test_config.py::TestConfig::test_save_creates_parent_dirs PASSED   [ 22%]
tests/test_config.py::TestConfig::test_inference_params_independent PASSED [ 22%]
tests/test_config.py::TestGetConfig::test_get_config_singleton PASSED    [ 22%]
tests/test_config.py::TestGetConfig::test_get_config_with_file PASSED    [ 22%]
tests/test_config.py::TestGetConfig::test_get_config_creates_new_with_file PASSED [ 22%]
tests/test_config.py::TestGetConfig::test_server_params_default PASSED   [ 23%]
tests/test_config.py::TestGetConfig::test_server_params_loading PASSED   [ 23%]
tests/test_config.py::TestGetConfig::test_server_params_optional PASSED  [ 23%]
tests/test_config.py::TestGetConfig::test_server_params_empty PASSED     [ 23%]
tests/test_config.py::TestGetConfig::test_server_params_in_to_dict PASSED [ 23%]
tests/test_config.py::TestGetConfig::test_server_params_not_in_to_dict_when_empty PASSED [ 23%]
tests/test_config.py::TestGetConfig::test_healthcheck_interval_loading PASSED [ 24%]
tests/test_config.py::TestGetConfig::test_healthcheck_interval_default PASSED [ 24%]
tests/test_config.py::TestGetConfig::test_backup_config_success PASSED   [ 24%]
tests/test_config.py::TestGetConfig::test_backup_config_file_not_found PASSED [ 24%]
tests/test_config.py::TestGetConfig::test_backup_config_custom_file PASSED [ 24%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_default_tool_execution_mode PASSED [ 24%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_load_single_pass_mode PASSED [ 25%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_load_dual_pass_write_only_mode PASSED [ 25%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_load_dual_pass_all_mode PASSED [ 25%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_invalid_mode_raises_error PASSED [ 25%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_missing_mode_uses_default PASSED [ 25%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_mode_in_to_dict PASSED [ 25%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_valid_modes_constant PASSED [ 26%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_backward_compatibility_no_llm_endpoint PASSED [ 26%]
tests/test_config_tool_execution_mode.py::TestToolExecutionModeConfig::test_save_and_reload_mode PASSED [ 26%]
tests/test_gui.py::TestLLMFrameworkGUI::test_initialization PASSED       [ 26%]
tests/test_gui.py::TestLLMFrameworkGUI::test_initialization_with_defaults PASSED [ 26%]
tests/test_gui.py::TestLLMFrameworkGUI::test_initialization_with_auth_key PASSED [ 26%]
tests/test_gui.py::TestLLMFrameworkGUI::test_initialization_without_auth_key PASSED [ 27%]
tests/test_gui.py::TestLLMFrameworkGUI::test_started_server_flag_initialization PASSED [ 27%]
tests/test_gui.py::TestLLMFrameworkGUI::test_check_server_on_startup_external_api PASSED [ 27%]
tests/test_gui.py::TestLLMFrameworkGUI::test_check_server_on_startup_no_local_config PASSED [ 27%]
tests/test_gui.py::TestLLMFrameworkGUI::test_check_server_on_startup_already_running PASSED [ 27%]
tests/test_gui.py::TestLLMFrameworkGUI::test_check_server_on_startup_needs_start PASSED [ 27%]
tests/test_gui.py::TestLLMFrameworkGUI::test_start_server_from_gui_success PASSED [ 28%]
tests/test_gui.py::TestLLMFrameworkGUI::test_start_server_from_gui_error PASSED [ 28%]
tests/test_gui.py::TestLLMFrameworkGUI::test_shutdown_gui_with_started_server PASSED [ 28%]
tests/test_gui.py::TestLLMFrameworkGUI::test_shutdown_gui_without_started_server PASSED [ 28%]
tests/test_gui.py::TestLLMFrameworkGUI::test_shutdown_gui_no_server_running PASSED [ 28%]
tests/test_gui.py::TestLLMFrameworkGUI::test_shutdown_gui_error PASSED   [ 29%]
tests/test_gui.py::TestLLMFrameworkGUI::test_get_server_status_no_config PASSED [ 29%]
tests/test_gui.py::TestLLMFrameworkGUI::test_get_server_status_stopped PASSED [ 29%]
tests/test_gui.py::TestLLMFrameworkGUI::test_get_server_status_running PASSED [ 29%]
tests/test_gui.py::TestLLMFrameworkGUI::test_start_server_no_config PASSED [ 29%]
tests/test_gui.py::TestLLMFrameworkGUI::test_start_server_already_running PASSED [ 29%]
tests/test_gui.py::TestLLMFrameworkGUI::test_start_server_success PASSED [ 30%]
tests/test_gui.py::TestLLMFrameworkGUI::test_start_server_error PASSED   [ 30%]
tests/test_gui.py::TestLLMFrameworkGUI::test_stop_server_no_config PASSED [ 30%]
tests/test_gui.py::TestLLMFrameworkGUI::test_stop_server_not_running PASSED [ 30%]
tests/test_gui.py::TestLLMFrameworkGUI::test_stop_server_success PASSED  [ 30%]
tests/test_gui.py::TestLLMFrameworkGUI::test_stop_server_error PASSED    [ 30%]
tests/test_gui.py::TestLLMFrameworkGUI::test_restart_server PASSED       [ 31%]
tests/test_gui.py::TestLLMFrameworkGUI::test_list_models_empty PASSED    [ 31%]
tests/test_gui.py::TestLLMFrameworkGUI::test_list_models_with_models PASSED [ 31%]
tests/test_gui.py::TestLLMFrameworkGUI::test_download_model_missing_info PASSED [ 31%]
tests/test_gui.py::TestLLMFrameworkGUI::test_download_model_success PASSED [ 31%]
tests/test_gui.py::TestLLMFrameworkGUI::test_download_model_error PASSED [ 31%]
tests/test_gui.py::TestLLMFrameworkGUI::test_get_model_info_not_found PASSED [ 32%]
tests/test_gui.py::TestLLMFrameworkGUI::test_get_model_info_success PASSED [ 32%]
tests/test_gui.py::TestLLMFrameworkGUI::test_load_config PASSED          [ 32%]
tests/test_gui.py::TestLLMFrameworkGUI::test_load_config_missing_file PASSED [ 32%]
tests/test_gui.py::TestLLMFrameworkGUI::test_save_config_invalid_json PASSED [ 32%]
tests/test_gui.py::TestLLMFrameworkGUI::test_save_config_success PASSED  [ 32%]
tests/test_gui.py::TestLLMFrameworkGUI::test_load_prompt_config PASSED   [ 33%]
tests/test_gui.py::TestLLMFrameworkGUI::test_load_prompt_config_missing_file PASSED [ 33%]
tests/test_gui.py::TestLLMFrameworkGUI::test_save_prompt_config_invalid_json PASSED [ 33%]
tests/test_gui.py::TestLLMFrameworkGUI::test_save_prompt_config_success PASSED [ 33%]
tests/test_gui.py::TestLLMFrameworkGUI::test_backup_config_success PASSED [ 33%]
tests/test_gui.py::TestLLMFrameworkGUI::test_backup_config_file_not_found PASSED [ 33%]
tests/test_gui.py::TestLLMFrameworkGUI::test_backup_prompt_config_success PASSED [ 34%]
tests/test_gui.py::TestLLMFrameworkGUI::test_backup_prompt_config_file_not_found PASSED [ 34%]
tests/test_gui.py::TestLLMFrameworkGUI::test_chat_respond PASSED         [ 34%]
tests/test_gui.py::TestLLMFrameworkGUI::test_chat_respond_with_history PASSED [ 34%]
tests/test_gui.py::TestLLMFrameworkGUI::test_chat_respond_error PASSED   [ 34%]
tests/test_gui.py::TestLLMFrameworkGUI::test_clear_chat PASSED           [ 34%]
tests/test_gui.py::TestLLMFrameworkGUI::test_create_interface PASSED     [ 35%]
tests/test_gui.py::TestLLMFrameworkGUI::test_launch PASSED               [ 35%]
tests/test_gui.py::TestLLMFrameworkGUI::test_launch_with_network_access PASSED [ 35%]
tests/test_gui.py::TestLLMFrameworkGUI::test_launch_localhost_only PASSED [ 35%]
tests/test_gui.py::TestStartGUI::test_start_gui_default_params PASSED    [ 35%]
tests/test_gui.py::TestStartGUI::test_start_gui_custom_params PASSED     [ 35%]
tests/test_gui.py::TestNewGUIMethods::test_toggle_download_sections_huggingface PASSED [ 36%]
tests/test_gui.py::TestNewGUIMethods::test_toggle_download_sections_url PASSED [ 36%]
tests/test_gui.py::TestNewGUIMethods::test_list_models_for_radio_empty PASSED [ 36%]
tests/test_gui.py::TestNewGUIMethods::test_list_models_for_radio_with_models PASSED [ 36%]
tests/test_gui.py::TestNewGUIMethods::test_list_models_for_radio_error PASSED [ 36%]
tests/test_gui.py::TestNewGUIMethods::test_get_selected_model_info_default PASSED [ 36%]
tests/test_gui.py::TestNewGUIMethods::test_get_selected_model_info_custom PASSED [ 37%]
tests/test_gui.py::TestNewGUIMethods::test_get_selected_model_info_empty PASSED [ 37%]
tests/test_gui.py::TestNewGUIMethods::test_get_selected_model_info_error PASSED [ 37%]
tests/test_gui.py::TestNewGUIMethods::test_refresh_models_list_success PASSED [ 37%]
tests/test_gui.py::TestNewGUIMethods::test_refresh_models_list_error PASSED [ 37%]
tests/test_gui.py::TestNewGUIMethods::test_reload_config_with_status_success PASSED [ 37%]
tests/test_gui.py::TestNewGUIMethods::test_reload_config_with_status_file_not_found PASSED [ 38%]
tests/test_gui.py::TestNewGUIMethods::test_reload_config_with_status_error PASSED [ 38%]
tests/test_gui.py::TestNewGUIMethods::test_reload_prompt_config_with_status_success PASSED [ 38%]
tests/test_gui.py::TestNewGUIMethods::test_reload_prompt_config_with_status_file_not_found PASSED [ 38%]
tests/test_gui.py::TestNewGUIMethods::test_reload_prompt_config_with_status_error PASSED [ 38%]
tests/test_gui.py::TestNewGUIMethods::test_download_model_url_missing_url PASSED [ 38%]
tests/test_gui.py::TestNewGUIMethods::test_download_model_url_missing_name PASSED [ 39%]
tests/test_gui.py::TestNewGUIMethods::test_download_model_url_success PASSED [ 39%]
tests/test_gui.py::TestNewGUIMethods::test_download_model_url_error PASSED [ 39%]
tests/test_gui.py::TestShareModeTTS::test_initialization_with_share_mode PASSED [ 39%]
tests/test_gui.py::TestShareModeTTS::test_initialization_without_share_mode PASSED [ 39%]
tests/test_gui.py::TestShareModeTTS::test_chat_respond_share_mode_no_tts PASSED [ 39%]
tests/test_gui.py::TestShareModeTTS::test_chat_respond_share_mode_with_tts PASSED [ 40%]
tests/test_gui.py::TestShareModeTTS::test_chat_respond_local_mode_with_tts PASSED [ 40%]
tests/test_gui.py::TestShareModeTTS::test_start_gui_with_share_true PASSED [ 40%]
tests/test_gui.py::TestShareModeTTS::test_create_interface_share_mode PASSED [ 40%]
tests/test_gui.py::TestShareModeTTS::test_create_interface_local_mode PASSED [ 40%]
tests/test_gui.py::TestMultiServerGUI::test_get_available_servers PASSED [ 40%]
tests/test_gui.py::TestMultiServerGUI::test_get_available_servers_empty PASSED [ 41%]
tests/test_gui.py::TestMultiServerGUI::test_get_available_servers_error PASSED [ 41%]
tests/test_gui.py::TestMultiServerGUI::test_get_server_info PASSED       [ 41%]
tests/test_gui.py::TestMultiServerGUI::test_get_server_info_not_active PASSED [ 41%]
tests/test_gui.py::TestMultiServerGUI::test_get_server_info_running PASSED [ 41%]
tests/test_gui.py::TestMultiServerGUI::test_get_server_info_stopped PASSED [ 41%]
tests/test_gui.py::TestMultiServerGUI::test_get_server_info_not_found PASSED [ 42%]
tests/test_gui.py::TestMultiServerGUI::test_get_server_info_no_selection PASSED [ 42%]
tests/test_gui.py::TestMultiServerGUI::test_start_server_by_name_success PASSED [ 42%]
tests/test_gui.py::TestMultiServerGUI::test_start_server_by_name_already_running PASSED [ 42%]
tests/test_gui.py::TestMultiServerGUI::test_start_server_by_name_not_found PASSED [ 42%]
tests/test_gui.py::TestMultiServerGUI::test_start_server_by_name_no_selection PASSED [ 43%]
tests/test_gui.py::TestMultiServerGUI::test_start_server_by_name_failed PASSED [ 43%]
tests/test_gui.py::TestMultiServerGUI::test_start_server_by_name_error PASSED [ 43%]
tests/test_gui.py::TestMultiServerGUI::test_stop_server_by_name_success PASSED [ 43%]
tests/test_gui.py::TestMultiServerGUI::test_stop_server_by_name_not_running PASSED [ 43%]
tests/test_gui.py::TestMultiServerGUI::test_stop_server_by_name_not_found PASSED [ 43%]
tests/test_gui.py::TestMultiServerGUI::test_stop_server_by_name_error PASSED [ 44%]
tests/test_gui.py::TestMultiServerGUI::test_restart_server_by_name_success PASSED [ 44%]
tests/test_gui.py::TestMultiServerGUI::test_restart_server_by_name_error PASSED [ 44%]
tests/test_llm_runtime.py::TestLLMRuntime::test_initialization PASSED    [ 44%]
tests/test_llm_runtime.py::TestLLMRuntime::test_get_server_command PASSED [ 44%]
tests/test_llm_runtime.py::TestLLMRuntime::test_is_server_running_false PASSED [ 44%]
tests/test_llm_runtime.py::TestLLMRuntime::test_is_server_running_true PASSED [ 45%]
tests/test_llm_runtime.py::TestLLMRuntime::test_is_server_running_terminated PASSED [ 45%]
tests/test_llm_runtime.py::TestLLMRuntime::test_is_server_ready_true PASSED [ 45%]
tests/test_llm_runtime.py::TestLLMRuntime::test_is_server_ready_false_bad_status PASSED [ 45%]
tests/test_llm_runtime.py::TestLLMRuntime::test_is_server_ready_false_exception PASSED [ 45%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_model_not_downloaded PASSED [ 45%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_llama_server_not_found PASSED [ 46%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_success PASSED [ 46%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_timeout PASSED [ 46%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_process_terminates PASSED [ 46%]
tests/test_llm_runtime.py::TestLLMRuntime::test_stop_server_no_process PASSED [ 46%]
tests/test_llm_runtime.py::TestLLMRuntime::test_stop_server_graceful PASSED [ 46%]
tests/test_llm_runtime.py::TestLLMRuntime::test_stop_server_force_kill PASSED [ 47%]
tests/test_llm_runtime.py::TestLLMRuntime::test_generate_no_server PASSED [ 47%]
tests/test_llm_runtime.py::TestLLMRuntime::test_generate_success FAILED  [ 47%]
tests/test_llm_runtime.py::TestLLMRuntime::test_generate_with_params FAILED [ 47%]
tests/test_llm_runtime.py::TestLLMRuntime::test_generate_failure FAILED  [ 47%]
tests/test_llm_runtime.py::TestLLMRuntime::test_chat_no_server PASSED    [ 47%]
tests/test_llm_runtime.py::TestLLMRuntime::test_chat_success FAILED      [ 48%]
tests/test_llm_runtime.py::TestLLMRuntime::test_chat_with_params FAILED  [ 48%]
tests/test_llm_runtime.py::TestLLMRuntime::test_chat_streaming FAILED    [ 48%]
tests/test_llm_runtime.py::TestLLMRuntime::test_chat_streaming_with_none_content FAILED [ 48%]
tests/test_llm_runtime.py::TestLLMRuntime::test_context_manager PASSED   [ 48%]
tests/test_llm_runtime.py::TestLLMRuntime::test_list_models_success PASSED [ 48%]
tests/test_llm_runtime.py::TestLLMRuntime::test_list_models_empty PASSED [ 49%]
tests/test_llm_runtime.py::TestLLMRuntime::test_list_models_initializes_client PASSED [ 49%]
tests/test_llm_runtime.py::TestLLMRuntime::test_list_models_failure PASSED [ 49%]
tests/test_llm_runtime.py::TestLLMRuntime::test_get_server_command_no_params PASSED [ 49%]
tests/test_llm_runtime.py::TestLLMRuntime::test_get_server_command_with_params PASSED [ 49%]
tests/test_llm_runtime.py::TestLLMRuntime::test_get_server_command_with_empty_params PASSED [ 49%]
tests/test_llm_runtime.py::TestLLMRuntime::test_get_server_command_custom_host PASSED [ 50%]
tests/test_llm_runtime.py::TestLLMRuntime::test_get_server_command_default_host PASSED [ 50%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_with_share PASSED [ 50%]
tests/test_llm_runtime.py::TestLLMRuntime::test_start_server_localhost_only PASSED [ 50%]
tests/test_llm_runtime_multiserver.py::TestGetRunningServers::test_get_running_servers_none_running PASSED [ 50%]
tests/test_llm_runtime_multiserver.py::TestGetRunningServers::test_get_running_servers_one_running PASSED [ 50%]
tests/test_llm_runtime_multiserver.py::TestGetRunningServers::test_get_running_servers_multiple_running PASSED [ 51%]
tests/test_llm_runtime_multiserver.py::TestGetRunningServers::test_get_running_servers_filters_dead_processes PASSED [ 51%]
tests/test_llm_runtime_multiserver.py::TestIsServerRunningByName::test_is_server_running_by_name_true PASSED [ 51%]
tests/test_llm_runtime_multiserver.py::TestIsServerRunningByName::test_is_server_running_by_name_false PASSED [ 51%]
tests/test_llm_runtime_multiserver.py::TestIsServerRunningByName::test_is_server_running_by_name_dead_process PASSED [ 51%]
tests/test_llm_runtime_multiserver.py::TestIsServerReadyAtPort::test_is_server_ready_at_port_ready PASSED [ 51%]
tests/test_llm_runtime_multiserver.py::TestIsServerReadyAtPort::test_is_server_ready_at_port_not_ready PASSED [ 52%]
tests/test_llm_runtime_multiserver.py::TestIsServerReadyAtPort::test_is_server_ready_at_port_custom_host PASSED [ 52%]
tests/test_llm_runtime_multiserver.py::TestStartServerByName::test_start_server_by_name_memory_warning_declined PASSED [ 52%]
tests/test_llm_runtime_multiserver.py::TestStartServerByName::test_start_server_by_name_already_running PASSED [ 52%]
tests/test_llm_runtime_multiserver.py::TestStartServerByName::test_start_server_by_name_invalid_server PASSED [ 52%]
tests/test_llm_runtime_multiserver.py::TestStopServerByName::test_stop_server_by_name_success PASSED [ 52%]
tests/test_llm_runtime_multiserver.py::TestStopServerByName::test_stop_server_by_name_not_running PASSED [ 53%]
tests/test_llm_runtime_multiserver.py::TestStopServerByName::test_stop_server_by_name_force_kill PASSED [ 53%]
tests/test_llm_runtime_multiserver.py::TestFindLlamaServerProcessByPort::test_find_llama_server_process_by_port_found PASSED [ 53%]
tests/test_llm_runtime_multiserver.py::TestFindLlamaServerProcessByPort::test_find_llama_server_process_by_port_not_found PASSED [ 53%]
tests/test_llm_runtime_multiserver.py::TestFindLlamaServerProcessByPort::test_find_llama_server_process_by_port_exception_handling PASSED [ 53%]
tests/test_llm_runtime_multiserver.py::TestMultiServerClientManagement::test_clients_dictionary_initialized PASSED [ 53%]
tests/test_llm_runtime_multiserver.py::TestMultiServerClientManagement::test_get_client_creates_new_client_for_server PASSED [ 54%]
tests/test_llm_runtime_multiserver.py::TestMultiServerIntegration::test_multiple_servers_isolated PASSED [ 54%]
tests/test_llm_runtime_multiserver.py::TestMultiServerIntegration::test_stop_one_server_leaves_others_running PASSED [ 54%]
tests/test_logging_config.py::TestColoredFormatter::test_format_with_color PASSED [ 54%]
tests/test_logging_config.py::TestColoredFormatter::test_format_without_color PASSED [ 54%]
tests/test_logging_config.py::TestColoredFormatter::test_format_different_levels PASSED [ 54%]
tests/test_logging_config.py::TestColoredFormatter::test_format_unknown_level_no_color PASSED [ 55%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_defaults PASSED [ 55%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_custom_level PASSED [ 55%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_custom_format PASSED [ 55%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_with_file PASSED [ 55%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_without_color PASSED [ 55%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_clears_existing_handlers PASSED [ 56%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_invalid_level_uses_info PASSED [ 56%]
tests/test_logging_config.py::TestSetupLogging::test_setup_logging_case_insensitive_level PASSED [ 56%]
tests/test_logging_config.py::TestGetLogger::test_get_logger_with_module_name PASSED [ 56%]
tests/test_logging_config.py::TestGetLogger::test_get_logger_with_prefix PASSED [ 56%]
tests/test_logging_config.py::TestGetLogger::test_get_logger_different_names PASSED [ 56%]
tests/test_logging_config.py::TestSetLevel::test_set_level_changes_logger_level PASSED [ 57%]
tests/test_logging_config.py::TestSetLevel::test_set_level_changes_handler_levels PASSED [ 57%]
tests/test_logging_config.py::TestSetLevel::test_set_level_case_insensitive PASSED [ 57%]
tests/test_logging_config.py::TestSetLevel::test_set_level_invalid_defaults_to_info PASSED [ 57%]
tests/test_logging_config.py::TestSetLevel::test_set_level_multiple_handlers PASSED [ 57%]
tests/test_memory_integration.py::TestMemoryTools::test_memory_tools_defined PASSED [ 58%]
tests/test_memory_integration.py::TestMemoryTools::test_get_memory_system_prompt PASSED [ 58%]
tests/test_memory_integration.py::TestPromptConfigMemoryIntegration::test_prompt_config_initializes_memory PASSED [ 58%]
tests/test_memory_integration.py::TestPromptConfigMemoryIntegration::test_get_memory_tools_when_enabled PASSED [ 58%]
tests/test_memory_integration.py::TestPromptConfigMemoryIntegration::test_get_memory_tools_when_disabled PASSED [ 58%]
tests/test_memory_integration.py::TestMemoryToolExecution::test_execute_add_memory PASSED [ 58%]
tests/test_memory_integration.py::TestMemoryToolExecution::test_execute_search_memories PASSED [ 59%]
tests/test_memory_integration.py::TestMemoryToolExecution::test_execute_unknown_tool PASSED [ 59%]
tests/test_memory_integration.py::TestEndToEndMemory::test_full_memory_workflow PASSED [ 59%]
tests/test_memory_tool_calling.py::TestToolCallingIntegration::test_chat_gets_memory_tools PASSED [ 59%]
tests/test_memory_tool_calling.py::TestToolCallingIntegration::test_chat_handles_tool_calls PASSED [ 59%]
tests/test_memory_tool_calling.py::TestToolCallingIntegration::test_chat_no_tools_when_memory_disabled PASSED [ 59%]
tests/test_memory_tool_calling.py::TestToolCallingIntegration::test_execute_memory_tool_from_runtime PASSED [ 60%]
tests/test_model_manager.py::TestModelManager::test_initialization PASSED [ 60%]
tests/test_model_manager.py::TestModelManager::test_get_model_path_default PASSED [ 60%]
tests/test_model_manager.py::TestModelManager::test_get_model_path_custom PASSED [ 60%]
tests/test_model_manager.py::TestModelManager::test_get_model_path_special_chars PASSED [ 60%]
tests/test_model_manager.py::TestModelManager::test_is_model_downloaded_false_not_exists PASSED [ 60%]
tests/test_model_manager.py::TestModelManager::test_is_model_downloaded_false_missing_config PASSED [ 61%]
tests/test_model_manager.py::TestModelManager::test_is_model_downloaded_true PASSED [ 61%]
tests/test_model_manager.py::TestModelManager::test_download_model_success PASSED [ 61%]
tests/test_model_manager.py::TestModelManager::test_download_model_already_downloaded PASSED [ 61%]
tests/test_model_manager.py::TestModelManager::test_download_model_force PASSED [ 61%]
tests/test_model_manager.py::TestModelManager::test_download_model_with_token PASSED [ 61%]
tests/test_model_manager.py::TestModelManager::test_download_model_failure PASSED [ 62%]
tests/test_model_manager.py::TestModelManager::test_verify_model_not_exists PASSED [ 62%]
tests/test_model_manager.py::TestModelManager::test_verify_model_minimal PASSED [ 62%]
tests/test_model_manager.py::TestModelManager::test_verify_model_partial PASSED [ 62%]
tests/test_model_manager.py::TestModelManager::test_delete_model_success PASSED [ 62%]
tests/test_model_manager.py::TestModelManager::test_delete_model_not_exists PASSED [ 62%]
tests/test_model_manager.py::TestModelManager::test_list_downloaded_models_empty PASSED [ 63%]
tests/test_model_manager.py::TestModelManager::test_list_downloaded_models PASSED [ 63%]
tests/test_model_manager.py::TestModelManager::test_get_model_info_not_downloaded PASSED [ 63%]
tests/test_model_manager.py::TestModelManager::test_get_model_info_downloaded PASSED [ 63%]
tests/test_model_manager.py::TestModelManager::test_get_model_info_custom_model PASSED [ 63%]
tests/test_model_manager.py::TestModelManager::test_is_model_downloaded_gguf_model_with_files PASSED [ 63%]
tests/test_model_manager.py::TestModelManager::test_is_model_downloaded_gguf_model_no_files PASSED [ 64%]
tests/test_model_manager.py::TestModelManager::test_download_model_hfhub_http_error PASSED [ 64%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_success PASSED [ 64%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_with_query_params PASSED [ 64%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_already_exists PASSED [ 64%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_force_redownload PASSED [ 64%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_http_error PASSED [ 65%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_network_error PASSED [ 65%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_unexpected_error PASSED [ 65%]
tests/test_model_manager.py::TestModelManager::test_download_from_url_cleanup_on_error PASSED [ 65%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_single_server_legacy_format PASSED [ 65%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_multi_server_configuration PASSED [ 65%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_get_server_by_name PASSED [ 66%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_get_server_by_port PASSED [ 66%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_get_active_server_with_default PASSED [ 66%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_list_servers PASSED [ 66%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_update_default_server PASSED [ 66%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_update_default_server_invalid PASSED [ 66%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_to_dict_multi_server PASSED [ 67%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_missing_server_name_raises_error PASSED [ 67%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_missing_llama_server_path_raises_error PASSED [ 67%]
tests/test_multiserver_config.py::TestMultiServerConfig::test_invalid_servers_array_raises_error PASSED [ 67%]
tests/test_operation_detector.py::TestOperationDetector::test_detect_read_operations PASSED [ 67%]
tests/test_operation_detector.py::TestOperationDetector::test_detect_write_operations PASSED [ 67%]
tests/test_operation_detector.py::TestOperationDetector::test_detect_general_operations PASSED [ 68%]
tests/test_operation_detector.py::TestOperationDetector::test_case_insensitivity PASSED [ 68%]
tests/test_operation_detector.py::TestOperationDetector::test_empty_message PASSED [ 68%]
tests/test_operation_detector.py::TestDualPassDecision::test_single_pass_mode_never_dual_pass PASSED [ 68%]
tests/test_operation_detector.py::TestDualPassDecision::test_dual_pass_all_mode_always_dual_pass PASSED [ 68%]
tests/test_operation_detector.py::TestDualPassDecision::test_dual_pass_write_only_mode PASSED [ 68%]
tests/test_operation_detector.py::TestDualPassDecision::test_no_tools_available_never_dual_pass PASSED [ 69%]
tests/test_operation_detector.py::TestDualPassDecision::test_unknown_mode_defaults_to_single_pass PASSED [ 69%]
tests/test_operation_detector.py::TestOperationTypeEnum::test_enum_values PASSED [ 69%]
tests/test_operation_detector.py::TestOperationTypeEnum::test_enum_membership PASSED [ 69%]
tests/test_prompt_config.py::TestPromptConfig::test_default_initialization PASSED [ 69%]
tests/test_prompt_config.py::TestPromptConfig::test_build_messages_simple PASSED [ 69%]
tests/test_prompt_config.py::TestPromptConfig::test_build_messages_with_system_prompt PASSED [ 70%]
tests/test_prompt_config.py::TestPromptConfig::test_build_messages_with_all_prompts PASSED [ 70%]
tests/test_prompt_config.py::TestPromptConfig::test_build_messages_with_conversation_history PASSED [ 70%]
tests/test_prompt_config.py::TestPromptConfig::test_build_messages_with_prefix_and_suffix PASSED [ 70%]
tests/test_prompt_config.py::TestPromptConfig::test_load_from_file PASSED [ 70%]
tests/test_prompt_config.py::TestPromptConfig::test_save_to_file PASSED  [ 70%]
tests/test_prompt_config.py::TestPromptConfig::test_to_dict PASSED       [ 71%]
tests/test_prompt_config.py::TestPromptConfig::test_load_from_file_with_custom_format PASSED [ 71%]
tests/test_prompt_config.py::TestGetPromptConfig::test_get_prompt_config_singleton PASSED [ 71%]
tests/test_prompt_config.py::TestGetPromptConfig::test_get_prompt_config_force_reload PASSED [ 71%]
tests/test_prompt_config.py::TestGetPromptConfig::test_backup_config_success PASSED [ 71%]
tests/test_prompt_config.py::TestGetPromptConfig::test_backup_config_file_not_found PASSED [ 72%]
tests/test_prompt_config.py::TestGetPromptConfig::test_backup_config_custom_file PASSED [ 72%]
tests/test_rag_retriever.py::TestRAGRetrieverInit::test_init_with_default_path PASSED [ 72%]
tests/test_rag_retriever.py::TestRAGRetrieverInit::test_init_with_custom_path PASSED [ 72%]
tests/test_rag_retriever.py::TestRAGRetrieverInit::test_init_missing_faiss PASSED [ 72%]
tests/test_rag_retriever.py::TestRAGRetrieverInit::test_init_missing_sentence_transformers PASSED [ 72%]
tests/test_rag_retriever.py::TestRegistryLoading::test_load_registry_with_attached_stores PASSED [ 73%]
tests/test_rag_retriever.py::TestRegistryLoading::test_load_registry_no_attached_stores PASSED [ 73%]
tests/test_rag_retriever.py::TestRegistryLoading::test_load_registry_missing_file PASSED [ 73%]
tests/test_rag_retriever.py::TestRegistryLoading::test_load_registry_invalid_json PASSED [ 73%]
tests/test_rag_retriever.py::TestHasAttachedStores::test_has_attached_stores_true PASSED [ 73%]
tests/test_rag_retriever.py::TestHasAttachedStores::test_has_attached_stores_false PASSED [ 73%]
tests/test_rag_retriever.py::TestReload::test_reload_clears_caches PASSED [ 74%]
tests/test_rag_retriever.py::TestPathResolution::test_resolve_absolute_path PASSED [ 74%]
tests/test_rag_retriever.py::TestPathResolution::test_resolve_relative_path PASSED [ 74%]
tests/test_rag_retriever.py::TestEmbeddingModelLoading::test_load_embedding_model_first_time PASSED [ 74%]
tests/test_rag_retriever.py::TestEmbeddingModelLoading::test_load_embedding_model_from_cache PASSED [ 74%]
tests/test_rag_retriever.py::TestQueryEmbedding::test_embed_query PASSED [ 74%]
tests/test_rag_retriever.py::TestContextFormatting::test_format_context_single_result PASSED [ 75%]
tests/test_rag_retriever.py::TestContextFormatting::test_format_context_multiple_results PASSED [ 75%]
tests/test_rag_retriever.py::TestContextFormatting::test_format_context_empty_results PASSED [ 75%]
tests/test_rag_retriever.py::TestQueryAllStores::test_query_all_stores_no_attached PASSED [ 75%]
tests/test_rag_retriever.py::TestQueryAllStores::test_query_all_stores_empty_query PASSED [ 75%]
tests/test_rag_retriever.py::TestQueryAllStores::test_query_all_stores_below_threshold PASSED [ 75%]
tests/test_rag_retriever.py::TestGetStats::test_get_stats PASSED         [ 76%]
tests/test_server_commands.py::TestListServersCommand::test_list_servers_with_multiple_servers PASSED [ 76%]
tests/test_server_commands.py::TestListServersCommand::test_list_servers_with_no_servers PASSED [ 76%]
tests/test_server_commands.py::TestListServersCommand::test_list_servers_shows_correct_status PASSED [ 76%]
tests/test_server_commands.py::TestStartServerCommand::test_start_server_by_name_success PASSED [ 76%]
tests/test_server_commands.py::TestStartServerCommand::test_start_server_by_name_with_force_flag PASSED [ 76%]
tests/test_server_commands.py::TestStartServerCommand::test_start_server_by_name_error_handling PASSED [ 77%]
tests/test_server_commands.py::TestStartServerCommand::test_start_server_legacy_mode_already_running PASSED [ 77%]
tests/test_server_commands.py::TestStartServerCommand::test_start_server_legacy_mode_downloads_model PASSED [ 77%]
tests/test_server_commands.py::TestStopServerCommand::test_stop_server_by_name_success PASSED [ 77%]
tests/test_server_commands.py::TestStopServerCommand::test_stop_server_by_name_not_running PASSED [ 77%]
tests/test_server_commands.py::TestStopServerCommand::test_stop_server_legacy_mode_success PASSED [ 77%]
tests/test_server_commands.py::TestStopServerCommand::test_stop_server_legacy_mode_not_running PASSED [ 78%]
tests/test_server_commands.py::TestStatusServerCommand::test_status_server_by_name_running PASSED [ 78%]
tests/test_server_commands.py::TestStatusServerCommand::test_status_server_by_name_not_running PASSED [ 78%]
tests/test_server_commands.py::TestStatusServerCommand::test_status_server_not_found PASSED [ 78%]
tests/test_server_commands.py::TestStatusServerCommand::test_status_server_legacy_mode_running PASSED [ 78%]
tests/test_server_commands.py::TestStatusServerCommand::test_status_server_legacy_mode_not_running PASSED [ 78%]
tests/test_server_commands.py::TestStatusServerCommand::test_status_no_local_server_configured PASSED [ 79%]
tests/test_server_commands.py::TestSwitchServerCommand::test_switch_server_success PASSED [ 79%]
tests/test_server_commands.py::TestSwitchServerCommand::test_switch_server_invalid_name PASSED [ 79%]
tests/test_server_commands.py::TestSwitchServerCommand::test_switch_server_saves_config PASSED [ 79%]
tests/test_server_commands.py::TestSwitchServerCommand::test_switch_server_general_exception PASSED [ 79%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_default_initialization PASSED [ 79%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_custom_initialization PASSED [ 80%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_sample_rate_type PASSED [ 80%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_sample_rate_range PASSED [ 80%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_channels PASSED [ 80%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_dtype PASSED [ 80%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_max_duration PASSED [ 80%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_silence_timeout PASSED [ 81%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_silence_threshold_int16 PASSED [ 81%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_silence_threshold_float32 PASSED [ 81%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_chunk_duration PASSED [ 81%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_min_speech_duration PASSED [ 81%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_whisper_model PASSED [ 81%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_whisper_language PASSED [ 82%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_required_silence_duration PASSED [ 82%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_debug_logging_enabled PASSED [ 82%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_log_level_string PASSED [ 82%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_log_level_int PASSED [ 82%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_log_level_string PASSED [ 82%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_invalid_log_level_type PASSED [ 83%]
tests/test_stt_engine.py::TestSpeechToTextInitialization::test_whisper_model_loading_failure PASSED [ 83%]
tests/test_stt_engine.py::TestRecordUntilSilence::test_record_with_speech_then_silence PASSED [ 83%]
tests/test_stt_engine.py::TestRecordUntilSilence::test_record_buffer_overflow PASSED [ 83%]
tests/test_stt_engine.py::TestRecordUntilSilence::test_record_no_audio_captured PASSED [ 83%]
tests/test_stt_engine.py::TestRecordUntilSilence::test_record_portaudio_error PASSED [ 83%]
tests/test_stt_engine.py::TestTranscribeAudio::test_transcribe_success PASSED [ 84%]
tests/test_stt_engine.py::TestTranscribeAudio::test_transcribe_with_language PASSED [ 84%]
tests/test_stt_engine.py::TestTranscribeAudio::test_transcribe_none_audio PASSED [ 84%]
tests/test_stt_engine.py::TestTranscribeAudio::test_transcribe_empty_audio PASSED [ 84%]
tests/test_stt_engine.py::TestTranscribeAudio::test_transcribe_missing_text_field PASSED [ 84%]
tests/test_stt_engine.py::TestTranscribeAudio::test_transcribe_cleanup_temp_file PASSED [ 84%]
tests/test_stt_engine.py::TestWaitForAudioClearance::test_audio_clearance_success PASSED [ 85%]
tests/test_stt_engine.py::TestWaitForAudioClearance::test_audio_clearance_no_audio_detected PASSED [ 85%]
tests/test_stt_engine.py::TestWaitForAudioClearance::test_audio_clearance_timeout PASSED [ 85%]
tests/test_stt_engine.py::TestWaitForAudioClearance::test_audio_clearance_invalid_timeout PASSED [ 85%]
tests/test_stt_engine.py::TestWaitForAudioClearance::test_audio_clearance_invalid_startup_delay PASSED [ 85%]
tests/test_stt_engine.py::TestWaitForAudioClearance::test_audio_clearance_with_startup_delay PASSED [ 86%]
tests/test_stt_engine.py::TestListen::test_listen_success PASSED         [ 86%]
tests/test_stt_engine.py::TestListen::test_listen_empty_transcription PASSED [ 86%]
tests/test_stt_engine.py::TestListen::test_listen_recording_failure PASSED [ 86%]
tests/test_tools_manager.py::TestToolsManager::test_initialization_with_defaults PASSED [ 86%]
tests/test_tools_manager.py::TestToolsManager::test_initialization_with_custom_paths PASSED [ 86%]
tests/test_tools_manager.py::TestToolsManager::test_load_config_from_main_config PASSED [ 87%]
tests/test_tools_manager.py::TestToolsManager::test_load_config_from_legacy_config PASSED [ 87%]
tests/test_tools_manager.py::TestToolsManager::test_load_config_with_missing_files PASSED [ 87%]
tests/test_tools_manager.py::TestToolsManager::test_convert_main_config PASSED [ 87%]
tests/test_tools_manager.py::TestToolsManager::test_get_feature_description PASSED [ 87%]
tests/test_tools_manager.py::TestToolsManager::test_is_feature_enabled_from_config PASSED [ 87%]
tests/test_tools_manager.py::TestToolsManager::test_is_feature_enabled_with_session_override PASSED [ 88%]
tests/test_tools_manager.py::TestToolsManager::test_enable_feature_session_only PASSED [ 88%]
tests/test_tools_manager.py::TestToolsManager::test_disable_feature_session_only PASSED [ 88%]
tests/test_tools_manager.py::TestToolsManager::test_reset_to_config PASSED [ 88%]
tests/test_tools_manager.py::TestToolsManager::test_reset_to_config_no_override PASSED [ 88%]
tests/test_tools_manager.py::TestToolsManager::test_list_features PASSED [ 88%]
tests/test_tools_manager.py::TestToolsManager::test_enable_feature_persistent_new_feature PASSED [ 89%]
tests/test_tools_manager.py::TestToolsManager::test_enable_feature_persistent_existing_feature PASSED [ 89%]
tests/test_tools_manager.py::TestToolsManager::test_disable_feature_persistent PASSED [ 89%]
tests/test_tools_manager.py::TestToolsManager::test_disable_feature_persistent_unknown_feature PASSED [ 89%]
tests/test_tools_manager.py::TestToolsManager::test_disable_feature_persistent_no_features_section PASSED [ 89%]
tests/test_tools_manager.py::TestToolsManager::test_load_config_with_invalid_main_config PASSED [ 89%]
tests/test_tools_manager.py::TestToolsManager::test_load_config_with_invalid_legacy_config PASSED [ 90%]
tests/test_tools_manager.py::TestToolsManager::test_save_config_creates_directory PASSED [ 90%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSInitialization::test_default_initialization PASSED [ 90%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSInitialization::test_custom_initialization PASSED [ 90%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSInitialization::test_initialization_failure PASSED [ 90%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSInitialization::test_voice_not_set_when_none PASSED [ 90%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeak::test_speak_blocking PASSED [ 91%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeak::test_speak_non_blocking PASSED [ 91%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeak::test_speak_empty_text PASSED [ 91%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeak::test_speak_whitespace_only PASSED [ 91%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeak::test_speak_error PASSED  [ 91%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeakAndGetClearanceTime::test_clearance_time_calculation PASSED [ 91%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeakAndGetClearanceTime::test_clearance_time_custom_rate PASSED [ 92%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeakAndGetClearanceTime::test_clearance_time_empty_text PASSED [ 92%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSpeakAndGetClearanceTime::test_clearance_time_on_error PASSED [ 92%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSGetAvailableVoices::test_get_voices_success PASSED [ 92%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSGetAvailableVoices::test_get_voices_no_languages_attribute PASSED [ 92%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSGetAvailableVoices::test_get_voices_error PASSED [ 92%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetVoice::test_set_voice_success PASSED [ 93%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetVoice::test_set_voice_error PASSED [ 93%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetRate::test_set_rate_success PASSED [ 93%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetRate::test_set_rate_error PASSED [ 93%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetVolume::test_set_volume_success PASSED [ 93%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetVolume::test_set_volume_invalid_range PASSED [ 93%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetVolume::test_set_volume_negative PASSED [ 94%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSSetVolume::test_set_volume_error PASSED [ 94%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSStop::test_stop_success PASSED  [ 94%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSStop::test_stop_error PASSED    [ 94%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSDestructor::test_destructor_cleanup PASSED [ 94%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSDestructor::test_destructor_no_engine PASSED [ 94%]
tests/test_tts_pyttsx3.py::TestPyttsx3TTSUsesAccurateTiming::test_uses_accurate_timing_false PASSED [ 95%]
tests/test_tts_stt_utils.py::TestLoadTTSConfig::test_load_config_success PASSED [ 95%]
tests/test_tts_stt_utils.py::TestLoadTTSConfig::test_load_config_file_not_found PASSED [ 95%]
tests/test_tts_stt_utils.py::TestLoadTTSConfig::test_load_config_invalid_json PASSED [ 95%]
tests/test_tts_stt_utils.py::TestLoadTTSConfig::test_load_config_no_settings_key PASSED [ 95%]
tests/test_tts_stt_utils.py::TestLoadSTTConfig::test_load_config_success PASSED [ 95%]
tests/test_tts_stt_utils.py::TestLoadSTTConfig::test_load_config_file_not_found PASSED [ 96%]
tests/test_tts_stt_utils.py::TestLoadSTTConfig::test_load_config_exception PASSED [ 96%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_macos_backend_accurate_timing PASSED [ 96%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_macos_backend_with_custom_buffer PASSED [ 96%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_pyttsx3_backend_with_verification PASSED [ 96%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_pyttsx3_backend_no_audio_detected PASSED [ 96%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_pyttsx3_backend_with_custom_parameters PASSED [ 97%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_invalid_text_empty_string PASSED [ 97%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_invalid_text_none PASSED [ 97%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_invalid_text_not_string PASSED [ 97%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_runtime_error_from_tts PASSED [ 97%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_runtime_error_from_stt_verification PASSED [ 97%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_unexpected_exception_wrapped PASSED [ 98%]
tests/test_tts_stt_utils.py::TestWaitForTTSClearance::test_config_loaded_from_files PASSED [ 98%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_parse_single_parameter PASSED [ 98%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_parse_multiple_parameters PASSED [ 98%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_parse_no_function PASSED [ 98%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_parse_multiple_functions PASSED [ 98%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_convert_to_openai_format PASSED [ 99%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_is_xml_function_call_positive PASSED [ 99%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_is_xml_function_call_negative PASSED [ 99%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_parse_with_special_characters PASSED [ 99%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_parse_empty_parameter PASSED [ 99%]
tests/test_xml_tool_parser.py::TestXMLToolParser::test_unique_call_ids PASSED [100%]

=================================== FAILURES ===================================
_____________________ TestLLMRuntime.test_generate_success _____________________
tests/test_llm_runtime.py:268: in test_generate_success
    result = runtime.generate("test prompt")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
llf/llm_runtime.py:454: in generate
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running
___________________ TestLLMRuntime.test_generate_with_params ___________________
tests/test_llm_runtime.py:285: in test_generate_with_params
    result = runtime.generate("test prompt", temperature=0.5, max_tokens=100)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
llf/llm_runtime.py:454: in generate
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running
_____________________ TestLLMRuntime.test_generate_failure _____________________
tests/test_llm_runtime.py:302: in test_generate_failure
    runtime.generate("test prompt")
llf/llm_runtime.py:454: in generate
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running

During handling of the above exception, another exception occurred:
tests/test_llm_runtime.py:301: in test_generate_failure
    with pytest.raises(RuntimeError, match="Failed to generate completion"):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: Regex pattern did not match.
E     Expected regex: 'Failed to generate completion'
E     Actual message: 'llama-server is not running'
_______________________ TestLLMRuntime.test_chat_success _______________________
tests/test_llm_runtime.py:323: in test_chat_success
    result = runtime.chat(messages)
             ^^^^^^^^^^^^^^^^^^^^^^
llf/llm_runtime.py:504: in chat
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running
_____________________ TestLLMRuntime.test_chat_with_params _____________________
tests/test_llm_runtime.py:342: in test_chat_with_params
    result = runtime.chat(messages, temperature=0.3, top_p=0.95)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
llf/llm_runtime.py:504: in chat
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running
______________________ TestLLMRuntime.test_chat_streaming ______________________
tests/test_llm_runtime.py:373: in test_chat_streaming
    stream = runtime.chat(messages, stream=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
llf/llm_runtime.py:504: in chat
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running
_____________ TestLLMRuntime.test_chat_streaming_with_none_content _____________
tests/test_llm_runtime.py:408: in test_chat_streaming_with_none_content
    stream = runtime.chat(messages, stream=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
llf/llm_runtime.py:504: in chat
    self._ensure_server_ready()
llf/llm_runtime.py:370: in _ensure_server_ready
    raise RuntimeError("llama-server is not running")
E   RuntimeError: llama-server is not running
=========================== short test summary info ============================
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_generate_success - Run...
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_generate_with_params
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_generate_failure - Ass...
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_chat_success - Runtime...
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_chat_with_params - Run...
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_chat_streaming - Runti...
FAILED tests/test_llm_runtime.py::TestLLMRuntime::test_chat_streaming_with_none_content
======================== 7 failed, 586 passed in 6.06s =========================
